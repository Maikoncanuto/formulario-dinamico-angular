<mat-card class="previsualizacao mat-elevation-z3">
  <mat-card-header>
    <mat-card-title>Pré-visualização</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <mat-form-field>
      <mat-label *ngIf="componenteAtual.label">{{componenteAtual.label}}</mat-label>
      <input matInput [placeholder]="componenteAtual.placeholder" />
    </mat-form-field>
  </mat-card-content>
</mat-card>

<div class="container">
  <div class="adicionar-componente">
    <mat-card class="mat-elevation-z3">
      <mat-card-header>
        <mat-card-title>Adicionar componente</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="componentes">
          <mat-form-field>
            <mat-label>Nome componente</mat-label>
            <input matInput placeholder="Name" [(ngModel)]="componenteAtual.label" />
          </mat-form-field>

          <mat-form-field>
            <mat-label>Nome auxiliar</mat-label>
            <input matInput placeholder="Placeholder" [(ngModel)]="componenteAtual.placeholder" />
          </mat-form-field>

          <mat-form-field>
            <mat-label>Tipo de componente</mat-label>
            <mat-select required [(ngModel)]="componenteAtual.type">
              <mat-option>Selecione</mat-option>
              <mat-option *ngFor="let type of types" [value]="type">{{type}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button mat-raised-button color="primary" [disabled]="!componenteAtual.type" (click)="add()">Adicionar</button>
      </mat-card-actions>
    </mat-card>
  </div>

  <div class="visualizacao-formulario">
    <mat-card class="mat-elevation-z3">
      <mat-card-header>
        <mat-card-title>Formulário</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="componentes" *ngFor="let componente of formulario.componentes" [ngSwitch]="componente.type">
          <mat-form-field *ngSwitchCase="'input'">
            <mat-label *ngIf="componente.label">{{componente.label}}</mat-label>
            <input [id]="componente.label" [type]="componente.type" matInput [placeholder]="componente.placeholder" />
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>

<div>
  <pre>{{componenteAtual | json}}</pre>
  <pre>{{formulario | json}}</pre>
</div>
